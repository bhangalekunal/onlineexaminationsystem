import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, ElementRef, EventEmitter, HostBinding, Input, Output } from '@angular/core';
import { SidebarSettingsComponent } from "../sidebar-settings.component";
export class SidebarAccordionComponent {
    constructor(element, cdRef) {
        this.element = element;
        this.cdRef = cdRef;
        this.classNameSidebarAccordion = true;
        this.sidebarResizableBegin = new EventEmitter();
        this.sidebarResizableEnd = new EventEmitter();
        this.sidebarOpenedChange = new EventEmitter();
        this._sidebars = [];
        this.onMouseMove = (e) => {
            if (!this._resizeSidebar) {
                return;
            }
            const root = document.documentElement;
            const getDiffPositionValue = () => {
                switch (this._resizeSidebar.position) {
                    case 'left':
                        return e.clientX - this._resizeSidebar.mouseClientX;
                    case 'right':
                        return (e.clientX - this._resizeSidebar.mouseClientX) * -1;
                    case 'top':
                        return e.clientY - this._resizeSidebar.mouseClientY;
                    case 'bottom':
                        return (e.clientY - this._resizeSidebar.mouseClientY) * -1;
                    default:
                        return 0;
                }
            };
            let positionValue = getDiffPositionValue() + this._resizeSidebar.spaceContent;
            if (positionValue < 0) {
                positionValue = 0;
            }
            root.style.setProperty(`--ng-sidebar-accordion-space__sidebar-content-${this._resizeSidebar.position}`, positionValue + 'px');
            this.correctMaxSizeSidebars();
        };
        this.onMouseUp = () => {
            if (this._resizeSidebar) {
                const position = this._resizeSidebar.position;
                delete this._resizeSidebar;
                this.sidebarResizableEnd.emit(position);
            }
        };
        this.groupBy = (xs, key) => {
            return xs.reduce(function (rv, x) {
                (rv[x[key]] = rv[x[key]] || []).push(x);
                return rv;
            }, {});
        };
    }
    ngAfterViewInit() {
        const groupSettings = this.groupBy(this.sideBarSettingsList.toArray(), 'position');
        Object.keys(groupSettings)
            .forEach(key => {
            if (groupSettings[key].length > 1) {
                throw new Error('<ng-sidebar-settings> ng-sidebar-settings can\'t be more than one with the same position.');
            }
        });
        this.sidebarSettingsSubscribe();
    }
    ngOnInit() {
        window.addEventListener('mousemove', this.onMouseMove);
        window.addEventListener('mouseup', this.onMouseUp);
    }
    ngOnDestroy() {
        window.removeEventListener('mousemove', this.onMouseMove);
        window.removeEventListener('mouseup', this.onMouseUp);
        this.sidebarUnsubscribe();
        this.sidebarSettingsUnsubscribe();
    }
    _addSidebar(sidebar) {
        this._sidebars.push(sidebar);
        this.sidebarSubscribe(sidebar);
    }
    _removeSidebar(sidebar) {
        const index = this._sidebars.indexOf(sidebar);
        if (index !== -1) {
            this._sidebars.splice(index, 1);
        }
    }
    _isResizableGutter(position) {
        if (!position || !this.sidebarResizable) {
            return false;
        }
        const groupByPosition = this.groupBy(this._sidebars, 'position');
        if (groupByPosition.hasOwnProperty(position)) {
            return !!groupByPosition[position].find(s => s.opened);
        }
        return false;
    }
    _getClassName(position) {
        const sideBarSettings = this.sideBarSettingsList.filter(s => s.position === position);
        return `ng-sidebar-accordion__${position}-pane${(this._resizeSidebar && this._resizeSidebar.position === position
            ?
                ` ng-sidebar-accordion__${position}-pane_resizable`
            : '')}${(sideBarSettings.length > 0 && sideBarSettings[0].mode === 'over'
            ? ` ng-sidebar-accordion__${position}-pane_over`
            : '')}`;
    }
    _getStyle(position) {
        const root = document.documentElement;
        const spaceSidebarHeader = +getComputedStyle(root)
            .getPropertyValue(`--ng-sidebar-accordion-space__sidebar-header`)
            .replace('px', '');
        const spaceSidebarHeaderBorder = +getComputedStyle(root)
            .getPropertyValue(`--ng-sidebar-accordion-space__sidebar-header-border`)
            .replace('px', '');
        const leftPaneIsOver = this.sideBarSettingsList.filter(s => s.position === 'left' && s.mode === 'over').length > 0;
        const topPaneIsOver = this.sideBarSettingsList.filter(s => s.position === 'top' && s.mode === 'over').length > 0;
        const rightPaneIsOver = this.sideBarSettingsList.filter(s => s.position === 'right' && s.mode === 'over').length > 0;
        const bottomPaneIsOver = this.sideBarSettingsList.filter(s => s.position === 'bottom' && s.mode === 'over').length > 0;
        const leftSidebarCount = this._sidebars.filter(s => s.position === 'left' && s._headersLength > 0).length;
        const topSidebarCount = this._sidebars.filter(s => s.position === 'top' && s._headersLength > 0).length;
        const rightSidebarCount = this._sidebars.filter(s => s.position === 'right' && s._headersLength > 0).length;
        const bottomSidebarCount = this._sidebars.filter(s => s.position === 'bottom' && s._headersLength > 0).length;
        let style = {};
        switch (position) {
            case 'top':
            case 'bottom':
                const currentPaneIsOver = this.sideBarSettingsList.filter(s => s.position === position && s.mode === 'over').length > 0;
                if (currentPaneIsOver) {
                    if (leftPaneIsOver) {
                        style.left = leftSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                    }
                    else {
                        style.left = '0';
                    }
                    if (rightPaneIsOver) {
                        style.right = rightSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                    }
                    else {
                        style.right = '0';
                    }
                    return style;
                }
                else {
                    if (leftPaneIsOver) {
                        style.paddingLeft = leftSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                    }
                    if (rightPaneIsOver) {
                        style.paddingRight = rightSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                    }
                    return style;
                }
            case undefined:
            case null:
                if (leftPaneIsOver) {
                    style.paddingLeft = leftSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                }
                if (topPaneIsOver) {
                    style.paddingTop = topSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                }
                if (rightPaneIsOver) {
                    style.paddingRight = rightSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                }
                if (bottomPaneIsOver) {
                    style.paddingBottom = bottomSidebarCount * spaceSidebarHeader + spaceSidebarHeaderBorder + 'px';
                }
                return style;
            default:
                return null;
        }
    }
    _onSidebarResizeBegin(position, e) {
        const root = document.documentElement;
        this._resizeSidebar = {
            position,
            mouseClientX: e.clientX,
            mouseClientY: e.clientY,
            spaceContent: +getComputedStyle(root)
                .getPropertyValue(`--ng-sidebar-accordion-space__sidebar-content-${position}`)
                .replace('px', '')
        };
        this.sidebarResizableBegin.emit(position);
    }
    open(value, index = 0) {
        this.sidebarToggle(value, index, true);
    }
    close(value) {
        this.sidebarToggle(value, null, false);
    }
    getSidebarIndex(sidebar) {
        if (!sidebar) {
            return -1;
        }
        const groupByPosition = this.groupBy(this._sidebars, 'position');
        if (groupByPosition.hasOwnProperty('left')) {
            groupByPosition['left'].reverse();
        }
        if (groupByPosition.hasOwnProperty('top')) {
            groupByPosition['top'].reverse();
        }
        if (groupByPosition.hasOwnProperty(sidebar.position)) {
            return groupByPosition[sidebar.position].findIndex(s => s === sidebar);
        }
        return -1;
    }
    sidebarToggle(position, index, opened) {
        const groupByPosition = this.groupBy(this._sidebars, 'position');
        if (groupByPosition.hasOwnProperty('left')) {
            groupByPosition['left'].reverse();
        }
        if (groupByPosition.hasOwnProperty('top')) {
            groupByPosition['top'].reverse();
        }
        switch (position) {
            case 'all':
                Object.keys(groupByPosition).forEach(key => {
                    opened
                        ? groupByPosition[key][index].open()
                        : index
                            ? groupByPosition[key][index].close()
                            : groupByPosition[key].forEach(s => s.close());
                });
                break;
            default:
                opened
                    ? groupByPosition[position][index].open()
                    : index
                        ? groupByPosition[position][index].close()
                        : groupByPosition[position].forEach(s => s.close());
                break;
        }
    }
    correctMaxSizeSidebars() {
        const setSpaceSidebar = (openedSidebars, outOfScreenSize) => {
            openedSidebars.forEach(s => {
                let spaceSidebar = +getComputedStyle(root)
                    .getPropertyValue(`--ng-sidebar-accordion-space__sidebar-content-${s.position}`)
                    .replace('px', '');
                if (spaceSidebar < 0) {
                    spaceSidebar *= -1;
                }
                let spaceValue = spaceSidebar - outOfScreenSize;
                if (spaceValue < 0) {
                    spaceValue = 0;
                }
                root.style.setProperty(`--ng-sidebar-accordion-space__sidebar-content-${s.position}`, spaceValue + 'px');
            });
        };
        const root = document.documentElement;
        const spaceSidebarHeaderBorder = +getComputedStyle(root)
            .getPropertyValue(`--ng-sidebar-accordion-space__sidebar-header-border`)
            .replace('px', '');
        const outOfScreenWidth = this.element.nativeElement.scrollWidth - (this.element.nativeElement.clientWidth + spaceSidebarHeaderBorder);
        const outOfScreenHeight = this.element.nativeElement.scrollHeight - (this.element.nativeElement.clientHeight + spaceSidebarHeaderBorder);
        if (outOfScreenWidth > 0) {
            const openedSidebarsW = this._sidebars
                .filter(s => (s.position === 'left' || s.position === 'right') && s.opened
                && !this.sideBarSettingsList.find(ss => ss.position === s.position && ss.mode === 'over'));
            setSpaceSidebar(openedSidebarsW, outOfScreenWidth);
        }
        if (outOfScreenHeight > 0) {
            const openedSidebarsH = this._sidebars
                .filter(s => (s.position === 'top' || s.position === 'bottom') && s.opened
                && !this.sideBarSettingsList.find(ss => ss.position === s.position && ss.mode === 'over'));
            setSpaceSidebar(openedSidebarsH, outOfScreenHeight);
        }
    }
    sidebarSubscribe(sidebar) {
        sidebar.headerClicked.subscribe((e) => {
            e.opened ? e.close() : e.open();
        });
        sidebar.headerTouchMoved.subscribe((e) => {
            const isAllowResizable = this._sidebars
                .filter(s => s.position === e.sender.position && s.opened).length > 0;
            if (this.sidebarResizable && isAllowResizable) {
                const groupByPosition = this.groupBy(this._sidebars, 'position');
                if (groupByPosition.hasOwnProperty('left')) {
                    groupByPosition['left'].reverse();
                }
                if (groupByPosition.hasOwnProperty('top')) {
                    groupByPosition['top'].reverse();
                }
                // move only first sidebar
                if (e.sender === groupByPosition[e.sender.position][0]) {
                    if (!this._resizeSidebar) {
                        this._onSidebarResizeBegin(e.sender.position, {
                            clientX: e.originalEvent.touches[0].clientX,
                            clientY: e.originalEvent.touches[0].clientY
                        });
                    }
                    else {
                        this.onMouseMove({
                            clientX: e.originalEvent.touches[0].clientX,
                            clientY: e.originalEvent.touches[0].clientY
                        });
                    }
                }
            }
        });
        sidebar.headerTouchEnded.subscribe((e) => {
            if (this._resizeSidebar) {
                this.onMouseUp();
            }
            else {
                e.sender.opened ? e.sender.close() : e.sender.open();
            }
        });
        sidebar.openedChange.subscribe((e) => {
            if (e.opened) {
                this._sidebars.filter(s => s.opened && s != e.sender &&
                    s.position === e.sender.position).forEach(s => s.close());
            }
            this.cdRef.markForCheck();
            const root = document.documentElement;
            const animationDuration = +getComputedStyle(root)
                .getPropertyValue(`--ng-sidebar-accordion-animation-duration`)
                .replace('s', '');
            setTimeout(() => this.correctMaxSizeSidebars(), 1000 * animationDuration);
            this.sidebarOpenedChange.emit(e.sender);
        });
    }
    sidebarUnsubscribe() {
        this._sidebars.forEach(sidebar => {
            sidebar.headerClicked.unsubscribe();
            sidebar.openedChange.unsubscribe();
            sidebar.headerTouchMoved.unsubscribe();
            sidebar.headerTouchEnded.unsubscribe();
        });
    }
    sidebarSettingsSubscribe() {
        this.sideBarSettingsList.forEach(s => {
            s.modeChange.subscribe(() => {
                this.cdRef.markForCheck();
            });
            s.positionChange.subscribe(() => {
                this.cdRef.markForCheck();
            });
        });
    }
    sidebarSettingsUnsubscribe() {
        this.sideBarSettingsList.forEach(s => {
            s.modeChange.unsubscribe();
            s.positionChange.unsubscribe();
        });
    }
}
SidebarAccordionComponent.decorators = [
    { type: Component, args: [{
                selector: 'ng-sidebar-accordion',
                template: `
    <div [ngClass]="_getClassName('left')" [ngStyle]="_getStyle('left')">
      <div
        *ngIf="_isResizableGutter('left')"
        class="ng-sidebar-accordion__gutter-vertical"
        (mousedown)="_onSidebarResizeBegin('left', $event)"
      >
      </div>
      <ng-content select="ng-sidebar[position=left]"></ng-content>
    </div>
    <div [ngClass]="_getClassName('top')" [ngStyle]="_getStyle('top')">
      <div
        *ngIf="_isResizableGutter('top')"
        class="ng-sidebar-accordion__gutter-horizontal"
        (mousedown)="_onSidebarResizeBegin('top', $event)"
      >
      </div>
      <ng-content select="ng-sidebar[position=top]"></ng-content>
    </div>
    <div [ngClass]="_getClassName('right')" [ngStyle]="_getStyle('right')">
      <div
        *ngIf="_isResizableGutter('right')"
        class="ng-sidebar-accordion__gutter-vertical"
        (mousedown)="_onSidebarResizeBegin('right', $event)"
      >
      </div>
      <ng-content select="ng-sidebar[position=right]"></ng-content>
    </div>
    <div class="ng-sidebar-accordion__content-pane" [ngStyle]="_getStyle()">
      <ng-content select="ng-sidebar-accordion-content"></ng-content>
    </div>
    <div [ngClass]="_getClassName('bottom')" [ngStyle]="_getStyle('bottom')">
      <div
        *ngIf="_isResizableGutter('bottom')"
        class="ng-sidebar-accordion__gutter-horizontal"
        (mousedown)="_onSidebarResizeBegin('bottom', $event)"
      >
      </div>
      <ng-content select="ng-sidebar[position=bottom]"></ng-content>
    </div>
  `,
                changeDetection: ChangeDetectionStrategy.OnPush,
                styles: ["::ng-deep.ng-sidebar-accordion .ng-sidebar-header,::ng-deep.ng-sidebar-accordion__bottom-pane,::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar,::ng-deep.ng-sidebar-accordion__content-pane,::ng-deep.ng-sidebar-accordion__left-pane,::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar,::ng-deep.ng-sidebar-accordion__right-pane,::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar,::ng-deep.ng-sidebar-accordion__top-pane,::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar{display:flex;flex-wrap:nowrap;position:relative}::ng-deep:root{--ng-sidebar-accordion-animation-duration:0.5s;--ng-sidebar-accordion-color-bg:#fff;--ng-sidebar-accordion-color__sidebar-header:#fff;--ng-sidebar-accordion-color__sidebar-header-bg:#337ab7;--ng-sidebar-accordion-space__sidebar-content-bottom:300px;--ng-sidebar-accordion-space__sidebar-content-left:300px;--ng-sidebar-accordion-space__sidebar-content-right:300px;--ng-sidebar-accordion-space__sidebar-content-top:300px;--ng-sidebar-accordion-space__sidebar-gutter:10px;--ng-sidebar-accordion-space__sidebar-header:40px;--ng-sidebar-accordion-space__sidebar-header-border:2px}::ng-deep.ng-sidebar-accordion{background-color:var(--ng-sidebar-accordion-color-bg);display:grid;grid-template-areas:\"left-pane top-pane right-pane\" \"left-pane content-pane right-pane\" \"left-pane bottom-pane right-pane\";grid-template-columns:auto 1fr auto;grid-template-rows:auto 1fr auto;height:100%;overflow:hidden;position:relative;width:100%}::ng-deep.ng-sidebar-accordion__left-pane{-ms-grid-column:1;-ms-grid-row:1;-ms-grid-row-span:3;grid-area:left-pane;margin-left:calc(var(--ng-sidebar-accordion-space__sidebar-header-border)*-1)}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar-header{border-left:var(--ng-sidebar-accordion-space__sidebar-header-border) solid var(--ng-sidebar-accordion-color-bg)}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar{flex-direction:row-reverse}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar_opened .ng-sidebar-content{max-width:var(--ng-sidebar-accordion-space__sidebar-content-left);width:var(--ng-sidebar-accordion-space__sidebar-content-left)}::ng-deep.ng-sidebar-accordion__left-pane ::ng-deep.ng-sidebar-accordion__gutter-vertical{right:0}::ng-deep.ng-sidebar-accordion__left-pane_over{box-shadow:10px 0 50px -15px rgba(0,0,0,.4);position:absolute;z-index:2}::ng-deep.ng-sidebar-accordion__top-pane{-ms-grid-column:2;-ms-grid-row:1;flex-direction:column;grid-area:top-pane;margin-top:calc(var(--ng-sidebar-accordion-space__sidebar-header-border)*-1);width:auto!important}::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar-header{border-top:var(--ng-sidebar-accordion-space__sidebar-header-border) solid var(--ng-sidebar-accordion-color-bg)}::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar{flex-direction:column-reverse}::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar_opened .ng-sidebar-content{height:var(--ng-sidebar-accordion-space__sidebar-content-top);max-height:var(--ng-sidebar-accordion-space__sidebar-content-top)}::ng-deep.ng-sidebar-accordion__top-pane ::ng-deep.ng-sidebar-accordion__gutter-horizontal{bottom:0}::ng-deep.ng-sidebar-accordion__top-pane_over{box-shadow:0 10px 50px -15px rgba(0,0,0,.4);position:absolute;z-index:1}::ng-deep.ng-sidebar-accordion__right-pane{-ms-grid-column:3;-ms-grid-row:1;-ms-grid-row-span:3;grid-area:right-pane;margin-right:calc(var(--ng-sidebar-accordion-space__sidebar-header-border)*-1)}::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar-header{border-right:var(--ng-sidebar-accordion-space__sidebar-header-border) solid var(--ng-sidebar-accordion-color-bg)}::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar_opened .ng-sidebar-content{max-width:var(--ng-sidebar-accordion-space__sidebar-content-right);width:var(--ng-sidebar-accordion-space__sidebar-content-right)}::ng-deep.ng-sidebar-accordion__right-pane_over{box-shadow:-10px 0 50px -15px rgba(0,0,0,.4);position:absolute;right:0;z-index:2}::ng-deep.ng-sidebar-accordion__bottom-pane{-ms-grid-column:2;-ms-grid-row:3;flex-direction:column;grid-area:bottom-pane;margin-bottom:calc(var(--ng-sidebar-accordion-space__sidebar-header-border)*-1);width:auto!important}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar-header{border-bottom:var(--ng-sidebar-accordion-space__sidebar-header-border) solid var(--ng-sidebar-accordion-color-bg)}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar{flex-direction:column}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar_opened .ng-sidebar-content{height:var(--ng-sidebar-accordion-space__sidebar-content-bottom);max-height:var(--ng-sidebar-accordion-space__sidebar-content-bottom)}::ng-deep.ng-sidebar-accordion__bottom-pane_over{bottom:0;box-shadow:0 -10px 50px -15px rgba(0,0,0,.4);position:absolute;z-index:1}::ng-deep.ng-sidebar-accordion__content-pane{-ms-grid-column:2;-ms-grid-row:2;bottom:0;flex-direction:column;grid-area:content-pane;left:0;overflow:auto;position:absolute;right:0;top:0}::ng-deep.ng-sidebar-accordion__bottom-pane,::ng-deep.ng-sidebar-accordion__top-pane{background-color:var(--ng-sidebar-accordion-color-bg);width:100%}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar_opened .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar_opened .ng-sidebar-content{transition:height var(--ng-sidebar-accordion-animation-duration)}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar-header,::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar-header{align-items:center;height:var(--ng-sidebar-accordion-space__sidebar-header);justify-content:center}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar-header__wrapper,::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar-header__wrapper{white-space:nowrap}::ng-deep.ng-sidebar-accordion__bottom-pane .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__top-pane .ng-sidebar-content{height:0;overflow:hidden;transition:height var(--ng-sidebar-accordion-animation-duration)}::ng-deep.ng-sidebar-accordion__left-pane,::ng-deep.ng-sidebar-accordion__right-pane{background-color:var(--ng-sidebar-accordion-color-bg);height:100%}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar_opened .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar_opened .ng-sidebar-content{transition:width var(--ng-sidebar-accordion-animation-duration)}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar-header__content,::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar-header__content{align-self:center;width:var(--ng-sidebar-accordion-space__sidebar-header)}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar-header__wrapper,::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar-header__wrapper{transform:rotate(270deg);white-space:nowrap}::ng-deep.ng-sidebar-accordion__left-pane .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__right-pane .ng-sidebar-content{overflow:hidden;transition:width var(--ng-sidebar-accordion-animation-duration);width:0}::ng-deep.ng-sidebar-accordion__bottom-pane_resizable .ng-sidebar_opened .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__left-pane_resizable .ng-sidebar_opened .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__right-pane_resizable .ng-sidebar_opened .ng-sidebar-content,::ng-deep.ng-sidebar-accordion__top-pane_resizable .ng-sidebar_opened .ng-sidebar-content{transition:none}::ng-deep.ng-sidebar-accordion .ng-sidebar-header{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:var(--ng-sidebar-accordion-color__sidebar-header-bg);color:var(--ng-sidebar-accordion-color__sidebar-header);cursor:pointer;user-select:none}::ng-deep.ng-sidebar-accordion__gutter-vertical{cursor:col-resize;height:100%;width:var(--ng-sidebar-accordion-space__sidebar-gutter)}::ng-deep.ng-sidebar-accordion__gutter-horizontal,::ng-deep.ng-sidebar-accordion__gutter-vertical{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;position:absolute;user-select:none;z-index:1}::ng-deep.ng-sidebar-accordion__gutter-horizontal{cursor:row-resize;height:var(--ng-sidebar-accordion-space__sidebar-gutter);width:100%}"]
            },] }
];
SidebarAccordionComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: ChangeDetectorRef }
];
SidebarAccordionComponent.propDecorators = {
    classNameSidebarAccordion: [{ type: HostBinding, args: ['class.ng-sidebar-accordion',] }],
    width: [{ type: Input }, { type: HostBinding, args: ['style.width',] }],
    height: [{ type: Input }, { type: HostBinding, args: ['style.height',] }],
    className: [{ type: Input }, { type: HostBinding, args: ['class',] }],
    sidebarResizable: [{ type: Input }],
    sidebarResizableBegin: [{ type: Output }],
    sidebarResizableEnd: [{ type: Output }],
    sidebarOpenedChange: [{ type: Output }],
    sideBarSettingsList: [{ type: ContentChildren, args: [SidebarSettingsComponent,] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZWJhci1hY2NvcmRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmctc2lkZWJhci1hY2NvcmRpb24vc3JjL2xpYi9zaWRlYmFyLWFjY29yZGlvbi9zaWRlYmFyLWFjY29yZGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULGVBQWUsRUFDZixVQUFVLEVBQ1YsWUFBWSxFQUNaLFdBQVcsRUFDWCxLQUFLLEVBR0wsTUFBTSxFQUVQLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBQyx3QkFBd0IsRUFBQyxNQUFNLCtCQUErQixDQUFDO0FBb0R2RSxNQUFNLE9BQU8seUJBQXlCO0lBdUJwQyxZQUFvQixPQUFtQixFQUFVLEtBQXdCO1FBQXJELFlBQU8sR0FBUCxPQUFPLENBQVk7UUFBVSxVQUFLLEdBQUwsS0FBSyxDQUFtQjtRQXJCOUIsOEJBQXlCLEdBQUcsSUFBSSxDQUFDO1FBT2xFLDBCQUFxQixHQUFHLElBQUksWUFBWSxFQUFZLENBQUM7UUFDckQsd0JBQW1CLEdBQUcsSUFBSSxZQUFZLEVBQVksQ0FBQztRQUNuRCx3QkFBbUIsR0FBRyxJQUFJLFlBQVksRUFBb0IsQ0FBQztRQUk3RCxjQUFTLEdBQTRCLEVBQUUsQ0FBQztRQTRLaEQsZ0JBQVcsR0FBRyxDQUFDLENBQWEsRUFBUSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN4QixPQUFPO2FBQ1I7WUFFRCxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDO1lBRXRDLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxFQUFFO2dCQUNoQyxRQUFRLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFO29CQUNwQyxLQUFLLE1BQU07d0JBQ1QsT0FBTyxDQUFDLENBQUMs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LENBQUM7SUFDTCxDQUFDO0lBRU8sMEJBQTBCO1FBQ2hDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMzQixDQUFDLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQzs7O1lBN2RGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsc0JBQXNCO2dCQUNoQyxRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F3Q1Q7Z0JBRUQsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07O2FBQ2hEOzs7WUE3REMsVUFBVTtZQUhWLGlCQUFpQjs7O3dDQW1FaEIsV0FBVyxTQUFDLDRCQUE0QjtvQkFFeEMsS0FBSyxZQUFJLFdBQVcsU0FBQyxhQUFhO3FCQUNsQyxLQUFLLFlBQUksV0FBVyxTQUFDLGNBQWM7d0JBQ25DLEtBQUssWUFBSSxXQUFXLFNBQUMsT0FBTzsrQkFDNUIsS0FBSztvQ0FFTCxNQUFNO2tDQUNOLE1BQU07a0NBQ04sTUFBTTtrQ0FFTixlQUFlLFNBQUMsd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBDb250ZW50Q2hpbGRyZW4sXHJcbiAgRWxlbWVudFJlZixcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSG9zdEJpbmRpbmcsXHJcbiAgSW5wdXQsXHJcbiAgT25EZXN0cm95LFxyXG4gIE9uSW5pdCxcclxuICBPdXRwdXQsXHJcbiAgUXVlcnlMaXN0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7U2lkZWJhckNvbXBvbmVudH0gZnJvbSBcIi4uL3NpZGViYXIuY29tcG9uZW50XCI7XHJcbmltcG9ydCB7U2lkZWJhclNldHRpbmdzQ29tcG9uZW50fSBmcm9tIFwiLi4vc2lkZWJhci1zZXR0aW5ncy5jb21wb25lbnRcIjtcclxuaW1wb3J0IHtTaWRlYmFyT3BlbmVkRXZlbnRBcmdzfSBmcm9tIFwiLi4vc2lkZWJhci1vcGVuZWQuZXZlbnQtYXJnc1wiO1xyXG5pbXBvcnQge1NpZGViYXJNb3VzZVRvdWNoRXZlbnRBcmdzfSBmcm9tIFwiLi4vc2lkZWJhci1tb3VzZS10b3VjaC5ldmVudC1hcmdzXCI7XHJcblxyXG5leHBvcnQgdHlwZSBwb3NpdGlvbiA9ICdhbGwnIHwgJ2xlZnQnIHwgJ3RvcCcgfCAncmlnaHQnIHwgJ2JvdHRvbSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25nLXNpZGViYXItYWNjb3JkaW9uJyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdiBbbmdDbGFzc109XCJfZ2V0Q2xhc3NOYW1lKCdsZWZ0JylcIiBbbmdTdHlsZV09XCJfZ2V0U3R5bGUoJ2xlZnQnKVwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgKm5nSWY9XCJfaXNSZXNpemFibGVHdXR0ZXIoJ2xlZnQnKVwiXHJcbiAgICAgICAgY2xhc3M9XCJuZy1zaWRlYmFyLWFjY29yZGlvbl9fZ3V0dGVyLXZlcnRpY2FsXCJcclxuICAgICAgICAobW91c2Vkb3duKT1cIl9vblNpZGViYXJSZXNpemVCZWdpbignbGVmdCcsICRldmVudClcIlxyXG4gICAgICA+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJuZy1zaWRlYmFyW3Bvc2l0aW9uPWxlZnRdXCI+PC9uZy1jb250ZW50PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IFtuZ0NsYXNzXT1cIl9nZXRDbGFzc05hbWUoJ3RvcCcpXCIgW25nU3R5bGVdPVwiX2dldFN0eWxlKCd0b3AnKVwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgKm5nSWY9XCJfaXNSZXNpemFibGVHdXR0ZXIoJ3RvcCcpXCJcclxuICAgICAgICBjbGFzcz1cIm5nLXNpZGViYXItYWNjb3JkaW9uX19ndXR0ZXItaG9yaXpvbnRhbFwiXHJcbiAgICAgICAgKG1vdXNlZG93bik9XCJfb25TaWRlYmFyUmVzaXplQmVnaW4oJ3RvcCcsICRldmVudClcIlxyXG4gICAgICA+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJuZy1zaWRlYmFyW3Bvc2l0aW9uPXRvcF1cIj48L25nLWNvbnRlbnQ+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgW25nQ2xhc3NdPVwiX2dldENsYXNzTmFtZSgncmlnaHQnKVwiIFtuZ1N0eWxlXT1cIl9nZXRTdHlsZSgncmlnaHQnKVwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgKm5nSWY9XCJfaXNSZXNpemFibGVHdXR0ZXIoJ3JpZ2h0JylcIlxyXG4gICAgICAgIGNsYXNzPVwibmctc2lkZWJhci1hY2NvcmRpb25fX2d1dHRlci12ZXJ0aWNhbFwiXHJcbiAgICAgICAgKG1vdXNlZG93bik9XCJfb25TaWRlYmFyUmVzaXplQmVnaW4oJ3JpZ2h0JywgJGV2ZW50KVwiXHJcbiAgICAgID5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm5nLXNpZGViYXJbcG9zaXRpb249cmlnaHRdXCI+PC9uZy1jb250ZW50PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibmctc2lkZWJhci1hY2NvcmRpb25fX2NvbnRlbnQtcGFuZVwiIFtuZ1N0eWxlXT1cIl9nZXRTdHlsZSgpXCI+XHJcbiAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm5nLXNpZGViYXItYWNjb3JkaW9uLWNvbnRlbnRcIj48L25nLWNvbnRlbnQ+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgW25nQ2xhc3NdPVwiX2dldENsYXNzTmFtZSgnYm90dG9tJylcIiBbbmdTdHlsZV09XCJfZ2V0U3R5bGUoJ2JvdHRvbScpXCI+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICAqbmdJZj1cIl9pc1Jlc2l6YWJsZUd1dHRlcignYm90dG9tJylcIlxyXG4gICAgICAgIGNsYXNzPVwibmctc2lkZWJhci1hY2NvcmRpb25fX2d1dHRlci1ob3Jpem9udGFsXCJcclxuICAgICAgICAobW91c2Vkb3duKT1cIl9vblNpZGViYXJSZXNpemVCZWdpbignYm90dG9tJywgJGV2ZW50KVwiXHJcbiAgICAgID5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm5nLXNpZGViYXJbcG9zaXRpb249Ym90dG9tXVwiPjwvbmctY29udGVudD5cclxuICAgIDwvZGl2PlxyXG4gIGAsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc2lkZWJhci1hY2NvcmRpb24uY29tcG9uZW50LnNjc3MnXSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2lkZWJhckFjY29yZGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uSW5pdCwgT25EZXN0cm95IHtcclxuXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5uZy1zaWRlYmFyLWFjY29yZGlvbicpIGNsYXNzTmFtZVNpZGViYXJBY2NvcmRpb24gPSB0cnVlO1xyXG5cclxuICBASW5wdXQoKSBASG9zdEJpbmRpbmcoJ3N0eWxlLndpZHRoJykgd2lkdGg6IHN0cmluZztcclxuICBASW5wdXQoKSBASG9zdEJpbmRpbmcoJ3N0eWxlLmhlaWdodCcpIGhlaWdodDogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIEBIb3N0QmluZGluZygnY2xhc3MnKSBjbGFzc05hbWU6IHN0cmluZztcclxuICBASW5wdXQoKSBzaWRlYmFyUmVzaXphYmxlOiBib29sZWFuO1xyXG5cclxuICBAT3V0cHV0KCkgc2lkZWJhclJlc2l6YWJsZUJlZ2luID0gbmV3IEV2ZW50RW1pdHRlcjxwb3NpdGlvbj4oKTtcclxuICBAT3V0cHV0KCkgc2lkZWJhclJlc2l6YWJsZUVuZCA9IG5ldyBFdmVudEVtaXR0ZXI8cG9zaXRpb24+KCk7XHJcbiAgQE91dHB1dCgpIHNpZGViYXJPcGVuZWRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPFNpZGViYXJDb21wb25lbnQ+KCk7XHJcblxyXG4gIEBDb250ZW50Q2hpbGRyZW4oU2lkZWJhclNldHRpbmdzQ29tcG9uZW50KSBzaWRlQmFyU2V0dGluZ3NMaXN0OiBRdWVyeUxpc3Q8U2lkZWJhclNldHRpbmdzQ29tcG9uZW50PjtcclxuXHJcbiAgcHJpdmF0ZSBfc2lkZWJhcnM6IEFycmF5PFNpZGViYXJDb21wb25lbnQ+ID0gW107XHJcbiAgcHJpdmF0ZSBfcmVzaXplU2lkZWJhcjoge1xyXG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxyXG4gICAgbW91c2VDbGllbnRYOiBudW1iZXIsXHJcbiAgICBtb3VzZUNsaWVudFk6IG51bWJlcixcclxuICAgIHNwYWNlQ29udGVudDogbnVtYmVyXHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLCBwcml2YXRlIGNkUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gICAgY29uc3QgZ3JvdXBTZXR0aW5ncyA9IHRoaXMuZ3JvdXBCeSh0aGlzLnNpZGVCYXJTZXR0aW5nc0xpc3QudG9BcnJheSgpLCAncG9zaXRpb24nKTtcclxuXHJcbiAgICBPYmplY3Qua2V5cyhncm91cFNldHRpbmdzKVxyXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChncm91cFNldHRpbmdzW2tleV0ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc8bmctc2lkZWJhci1zZXR0aW5ncz4gbmctc2lkZWJhci1zZXR0aW5ncyBjYW5cXCd0IGJlIG1vcmUgdGhhbiBvbmUgd2l0aCB0aGUgc2FtZSBwb3NpdGlvbi4nKVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5zaWRlYmFyU2V0dGluZ3NTdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xyXG4gICAgdGhpcy5zaWRlYmFyVW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMuc2lkZWJhclNldHRpbmdzVW5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIF9hZGRTaWRlYmFyKHNpZGViYXI6IFNpZGViYXJDb21wb25lbnQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NpZGViYXJzLnB1c2goc2lkZWJhcik7XHJcbiAgICB0aGlzLnNpZGViYXJTdWJzY3JpYmUoc2lkZWJhcik7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlU2lkZWJhcihzaWRlYmFyOiBTaWRlYmFyQ29tcG9uZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NpZGViYXJzLmluZGV4T2Yoc2lkZWJhcik7XHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIHRoaXMuX3NpZGViYXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaXNSZXNpemFibGVHdXR0ZXIocG9zaXRpb246IHBvc2l0aW9uKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXBvc2l0aW9uIHx8ICF0aGlzLnNpZGViYXJSZXNpemFibGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdyb3VwQnlQb3NpdGlvbiA9IHRoaXMuZ3JvdXBCeSh0aGlzLl9zaWRlYmFycywgJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgaWYgKGdyb3VwQnlQb3NpdGlvbi5oYXNPd25Qcm9wZXJ0eShwb3NpdGlvbikpIHtcclxuICAgICAgcmV0dXJuICEhZ3JvdXBCeVBvc2l0aW9uW3Bvc2l0aW9uXS5maW5kKHMgPT4gcy5vcGVuZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9nZXRDbGFzc05hbWUocG9zaXRpb246IHBvc2l0aW9uKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHNpZGVCYXJTZXR0aW5ncyA9IHRoaXMuc2lkZUJhclNldHRpbmdzTGlzdC5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSBwb3NpdGlvbik7XHJcblxyXG4gICAgcmV0dXJuIGBuZy1zaWRlYmFyLWFjY29yZGlvbl9fJHtwb3NpdGlvbn0tcGFuZSR7XHJcbiAgICAgICh0aGlzLl9yZXNpemVTaWRlYmFyICYmIHRoaXMuX3Jlc2l6ZVNpZGViYXIucG9zaXRpb24gPT09IHBvc2l0aW9uXHJcbiAgICAgICAgP1xyXG4gICAgICAgIGAgbmctc2lkZWJhci1hY2NvcmRpb25fXyR7cG9zaXRpb259LXBhbmVfcmVzaXphYmxlYFxyXG4gICAgICAgIDogJycpXHJcbiAgICB9JHtcclxuICAgICAgKHNpZGVCYXJTZXR0aW5ncy5sZW5ndGggPiAwICYmIHNpZGVCYXJTZXR0aW5nc1swXS5tb2RlID09PSAnb3ZlcidcclxuICAgICAgICAgID8gYCBuZy1zaWRlYmFyLWFjY29yZGlvbl9fJHtwb3NpdGlvbn0tcGFuZV9vdmVyYFxyXG4gICAgICAgICAgOiAnJ1xyXG4gICAgICApXHJcbiAgICB9YDtcclxuICB9XHJcblxyXG4gIF9nZXRTdHlsZShwb3NpdGlvbj86IHBvc2l0aW9uKSB7XHJcbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgY29uc3Qgc3BhY2VTaWRlYmFySGVhZGVyID0gK2dldENvbXB1dGVkU3R5bGUocm9vdClcclxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoYC0tbmctc2lkZWJhci1hY2NvcmRpb24tc3BhY2VfX3NpZGViYXItaGVhZGVyYClcclxuICAgICAgLnJlcGxhY2UoJ3B4JywgJycpO1xyXG5cclxuICAgIGNvbnN0IHNwYWNlU2lkZWJhckhlYWRlckJvcmRlciA9ICtnZXRDb21wdXRlZFN0eWxlKHJvb3QpXHJcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKGAtLW5nLXNpZGViYXItYWNjb3JkaW9uLXNwYWNlX19zaWRlYmFyLWhlYWRlci1ib3JkZXJgKVxyXG4gICAgICAucmVwbGFjZSgncHgnLCAnJyk7XHJcblxyXG4gICAgY29uc3QgbGVmdFBhbmVJc092ZXIgPSB0aGlzLnNpZGVCYXJTZXR0aW5nc0xpc3QuZmlsdGVyKHMgPT4gcy5wb3NpdGlvbiA9PT0gJ2xlZnQnICYmIHMubW9kZSA9PT0gJ292ZXInKS5sZW5ndGggPiAwO1xyXG4gICAgY29uc3QgdG9wUGFuZUlzT3ZlciA9IHRoaXMuc2lkZUJhclNldHRpbmdzTGlzdC5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAndG9wJyAmJiBzLm1vZGUgPT09ICdvdmVyJykubGVuZ3RoID4gMDtcclxuICAgIGNvbnN0IHJpZ2h0UGFuZUlzT3ZlciA9IHRoaXMuc2lkZUJhclNldHRpbmdzTGlzdC5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAncmlnaHQnICYmIHMubW9kZSA9PT0gJ292ZXInKS5sZW5ndGggPiAwO1xyXG4gICAgY29uc3QgYm90dG9tUGFuZUlzT3ZlciA9IHRoaXMuc2lkZUJhclNldHRpbmdzTGlzdC5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAnYm90dG9tJyAmJiBzLm1vZGUgPT09ICdvdmVyJykubGVuZ3RoID4gMDtcclxuXHJcbiAgICBjb25zdCBsZWZ0U2lkZWJhckNvdW50ID0gdGhpcy5fc2lkZWJhcnMuZmlsdGVyKHMgPT4gcy5wb3NpdGlvbiA9PT0gJ2xlZnQnICYmIHMuX2hlYWRlcnNMZW5ndGggPiAwKS5sZW5ndGg7XHJcbiAgICBjb25zdCB0b3BTaWRlYmFyQ291bnQgPSB0aGlzLl9zaWRlYmFycy5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAndG9wJyAmJiBzLl9oZWFkZXJzTGVuZ3RoID4gMCkubGVuZ3RoO1xyXG4gICAgY29uc3QgcmlnaHRTaWRlYmFyQ291bnQgPSB0aGlzLl9zaWRlYmFycy5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAncmlnaHQnICYmIHMuX2hlYWRlcnNMZW5ndGggPiAwKS5sZW5ndGg7XHJcbiAgICBjb25zdCBib3R0b21TaWRlYmFyQ291bnQgPSB0aGlzLl9zaWRlYmFycy5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSAnYm90dG9tJyAmJiBzLl9oZWFkZXJzTGVuZ3RoID4gMCkubGVuZ3RoO1xyXG5cclxuICAgIGxldCBzdHlsZTogYW55ID0ge307XHJcblxyXG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lSXNPdmVyID0gdGhpcy5zaWRlQmFyU2V0dGluZ3NMaXN0LmZpbHRlcihzID0+IHMucG9zaXRpb24gPT09IHBvc2l0aW9uICYmIHMubW9kZSA9PT0gJ292ZXInKS5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudFBhbmVJc092ZXIpIHtcclxuICAgICAgICAgIGlmIChsZWZ0UGFuZUlzT3Zlcikge1xyXG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gbGVmdFNpZGViYXJDb3VudCAqIHNwYWNlU2lkZWJhckhlYWRlciArIHNwYWNlU2lkZWJhckhlYWRlckJvcmRlciArICdweCc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHJpZ2h0UGFuZUlzT3Zlcikge1xyXG4gICAgICAgICAgICBzdHlsZS5yaWdodCA9IHJpZ2h0U2lkZWJhckNvdW50ICogc3BhY2VTaWRlYmFySGVhZGVyICsgc3BhY2VTaWRlYmFySGVhZGVyQm9yZGVyICsgJ3B4JztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlLnJpZ2h0ID0gJzAnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAobGVmdFBhbmVJc092ZXIpIHtcclxuICAgICAgICAgICAgc3R5bGUucGFkZGluZ0xlZnQgPSBsZWZ0U2lkZWJhckNvdW50ICogc3BhY2VTaWRlYmFySGVhZGVyICsgc3BhY2VTaWRlYmFySGVhZGVyQm9yZGVyICsgJ3B4JztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAocmlnaHRQYW5lSXNPdmVyKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLnBhZGRpbmdSaWdodCA9IHJpZ2h0U2lkZWJhckNvdW50ICogc3BhY2VTaWRlYmFySGVhZGVyICsgc3BhY2VTaWRlYmFySGVhZGVyQm9yZGVyICsgJ3B4JztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBzdHlsZTtcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxyXG4gICAgICBjYXNlIG51bGw6XHJcbiAgICAgICAgaWYgKGxlZnRQYW5lSXNPdmVyKSB7XHJcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nTGVmdCA9IGxlZnRTaWRlYmFyQ291bnQgKiBzcGFjZVNpZGViYXJIZWFkZXIgKyBzcGFjZVNpZGViYXJIZWFkZXJCb3JkZXIgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9wUGFuZUlzT3Zlcikge1xyXG4gICAgICAgICAgc3R5bGUucGFkZGluZ1RvcCA9IHRvcFNpZGViYXJDb3VudCAqIHNwYWNlU2lkZWJhckhlYWRlciArIHNwYWNlU2lkZWJhckhlYWRlckJvcmRlciArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodFBhbmVJc092ZXIpIHtcclxuICAgICAgICAgIHN0eWxlLnBhZGRpbmdSaWdodCA9IHJpZ2h0U2lkZWJhckNvdW50ICogc3BhY2VTaWRlYmFySGVhZGVyICsgc3BhY2VTaWRlYmFySGVhZGVyQm9yZGVyICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvdHRvbVBhbmVJc092ZXIpIHtcclxuICAgICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBib3R0b21TaWRlYmFyQ291bnQgKiBzcGFjZVNpZGViYXJIZWFkZXIgKyBzcGFjZVNpZGViYXJIZWFkZXJCb3JkZXIgKyAncHgnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uU2lkZWJhclJlc2l6ZUJlZ2luKHBvc2l0aW9uOiBwb3NpdGlvbiwgZTogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9yZXNpemVTaWRlYmFyID0ge1xyXG4gICAgICBwb3NpdGlvbixcclxuICAgICAgbW91c2VDbGllbnRYOiBlLmNsaWVudFgsXHJcbiAgICAgIG1vdXNlQ2xpZW50WTogZS5jbGllbnRZLFxyXG4gICAgICBzcGFjZUNvbnRlbnQ6ICtnZXRDb21wdXRlZFN0eWxlKHJvb3QpXHJcbiAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoYC0tbmctc2lkZWJhci1hY2NvcmRpb24tc3BhY2VfX3NpZGViYXItY29udGVudC0ke3Bvc2l0aW9ufWApXHJcbiAgICAgICAgLnJlcGxhY2UoJ3B4JywgJycpXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2lkZWJhclJlc2l6YWJsZUJlZ2luLmVtaXQocG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgb3Blbih2YWx1ZTogcG9zaXRpb24sIGluZGV4OiBudW1iZXIgPSAwKTogdm9pZCB7XHJcblxyXG4gICAgdGhpcy5zaWRlYmFyVG9nZ2xlKHZhbHVlLCBpbmRleCwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSh2YWx1ZTogcG9zaXRpb24pOiB2b2lkIHtcclxuICAgIHRoaXMuc2lkZWJhclRvZ2dsZSh2YWx1ZSwgbnVsbCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUgPSAoZTogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9yZXNpemVTaWRlYmFyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0IGdldERpZmZQb3NpdGlvblZhbHVlID0gKCkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKHRoaXMuX3Jlc2l6ZVNpZGViYXIucG9zaXRpb24pIHtcclxuICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgIHJldHVybiBlLmNsaWVudFggLSB0aGlzLl9yZXNpemVTaWRlYmFyLm1vdXNlQ2xpZW50WDtcclxuICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICByZXR1cm4gKGUuY2xpZW50WCAtIHRoaXMuX3Jlc2l6ZVNpZGViYXIubW91c2VDbGllbnRYKSAqIC0xO1xyXG4gICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICByZXR1cm4gZS5jbGllbnRZIC0gdGhpcy5fcmVzaXplU2lkZWJhci5tb3VzZUNsaWVudFk7XHJcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgIHJldHVybiAoZS5jbGllbnRZIC0gdGhpcy5fcmVzaXplU2lkZWJhci5tb3VzZUNsaWVudFkpICogLTE7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBvc2l0aW9uVmFsdWUgPSBnZXREaWZmUG9zaXRpb25WYWx1ZSgpICsgdGhpcy5fcmVzaXplU2lkZWJhci5zcGFjZUNvbnRlbnQ7XHJcblxyXG4gICAgaWYgKHBvc2l0aW9uVmFsdWUgPCAwKSB7XHJcbiAgICAgIHBvc2l0aW9uVmFsdWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoYC0tbmctc2lkZWJhci1hY2NvcmRpb24tc3BhY2VfX3NpZGViYXItY29udGVudC0ke3RoaXMuX3Jlc2l6ZVNpZGViYXIucG9zaXRpb259YCxcclxuICAgICAgcG9zaXRpb25WYWx1ZSArICdweCcpO1xyXG5cclxuICAgIHRoaXMuY29ycmVjdE1heFNpemVTaWRlYmFycygpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuX3Jlc2l6ZVNpZGViYXIpIHtcclxuICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl9yZXNpemVTaWRlYmFyLnBvc2l0aW9uO1xyXG4gICAgICBkZWxldGUgdGhpcy5fcmVzaXplU2lkZWJhcjtcclxuXHJcbiAgICAgIHRoaXMuc2lkZWJhclJlc2l6YWJsZUVuZC5lbWl0KHBvc2l0aW9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNpZGViYXJJbmRleChzaWRlYmFyOiBTaWRlYmFyQ29tcG9uZW50KTogbnVtYmVyIHtcclxuXHJcbiAgICBpZiAoIXNpZGViYXIpIHtcclxuICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdyb3VwQnlQb3NpdGlvbiA9IHRoaXMuZ3JvdXBCeSh0aGlzLl9zaWRlYmFycywgJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgaWYgKGdyb3VwQnlQb3NpdGlvbi5oYXNPd25Qcm9wZXJ0eSgnbGVmdCcpKSB7XHJcbiAgICAgIGdyb3VwQnlQb3NpdGlvblsnbGVmdCddLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ3JvdXBCeVBvc2l0aW9uLmhhc093blByb3BlcnR5KCd0b3AnKSkge1xyXG4gICAgICBncm91cEJ5UG9zaXRpb25bJ3RvcCddLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ3JvdXBCeVBvc2l0aW9uLmhhc093blByb3BlcnR5KHNpZGViYXIucG9zaXRpb24pKSB7XHJcbiAgICAgIHJldHVybiBncm91cEJ5UG9zaXRpb25bc2lkZWJhci5wb3NpdGlvbl0uZmluZEluZGV4KHMgPT4gcyA9PT0gc2lkZWJhcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaWRlYmFyVG9nZ2xlKHBvc2l0aW9uOiBwb3NpdGlvbiwgaW5kZXg6IG51bWJlciwgb3BlbmVkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBjb25zdCBncm91cEJ5UG9zaXRpb24gPSB0aGlzLmdyb3VwQnkodGhpcy5fc2lkZWJhcnMsICdwb3NpdGlvbicpO1xyXG5cclxuICAgIGlmIChncm91cEJ5UG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ2xlZnQnKSkge1xyXG4gICAgICBncm91cEJ5UG9zaXRpb25bJ2xlZnQnXS5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGdyb3VwQnlQb3NpdGlvbi5oYXNPd25Qcm9wZXJ0eSgndG9wJykpIHtcclxuICAgICAgZ3JvdXBCeVBvc2l0aW9uWyd0b3AnXS5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgIE9iamVjdC5rZXlzKGdyb3VwQnlQb3NpdGlvbikuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgb3BlbmVkXHJcbiAgICAgICAgICAgID8gZ3JvdXBCeVBvc2l0aW9uW2tleV1baW5kZXhdLm9wZW4oKVxyXG4gICAgICAgICAgICA6IGluZGV4XHJcbiAgICAgICAgICAgID8gZ3JvdXBCeVBvc2l0aW9uW2tleV1baW5kZXhdLmNsb3NlKClcclxuICAgICAgICAgICAgOiBncm91cEJ5UG9zaXRpb25ba2V5XS5mb3JFYWNoKHMgPT4gcy5jbG9zZSgpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIG9wZW5lZFxyXG4gICAgICAgICAgPyBncm91cEJ5UG9zaXRpb25bcG9zaXRpb25dW2luZGV4XS5vcGVuKClcclxuICAgICAgICAgIDogaW5kZXhcclxuICAgICAgICAgID8gZ3JvdXBCeVBvc2l0aW9uW3Bvc2l0aW9uXVtpbmRleF0uY2xvc2UoKVxyXG4gICAgICAgICAgOiBncm91cEJ5UG9zaXRpb25bcG9zaXRpb25dLmZvckVhY2gocyA9PiBzLmNsb3NlKCkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb3JyZWN0TWF4U2l6ZVNpZGViYXJzKCkge1xyXG5cclxuICAgIGNvbnN0IHNldFNwYWNlU2lkZWJhciA9IChvcGVuZWRTaWRlYmFycywgb3V0T2ZTY3JlZW5TaXplKSA9PiB7XHJcbiAgICAgIG9wZW5lZFNpZGViYXJzLmZvckVhY2gocyA9PiB7XHJcblxyXG4gICAgICAgIGxldCBzcGFjZVNpZGViYXIgPSArZ2V0Q29tcHV0ZWRTdHlsZShyb290KVxyXG4gICAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoYC0tbmctc2lkZWJhci1hY2NvcmRpb24tc3BhY2VfX3NpZGViYXItY29udGVudC0ke3MucG9zaXRpb259YClcclxuICAgICAgICAgIC5yZXBsYWNlKCdweCcsICcnKTtcclxuXHJcbiAgICAgICAgaWYgKHNwYWNlU2lkZWJhciA8IDApIHtcclxuICAgICAgICAgIHNwYWNlU2lkZWJhciAqPSAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzcGFjZVZhbHVlID0gc3BhY2VTaWRlYmFyIC0gb3V0T2ZTY3JlZW5TaXplO1xyXG5cclxuICAgICAgICBpZiAoc3BhY2VWYWx1ZSA8IDApIHtcclxuICAgICAgICAgIHNwYWNlVmFsdWUgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eShgLS1uZy1zaWRlYmFyLWFjY29yZGlvbi1zcGFjZV9fc2lkZWJhci1jb250ZW50LSR7cy5wb3NpdGlvbn1gLFxyXG4gICAgICAgICAgc3BhY2VWYWx1ZSArICdweCcpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0IHNwYWNlU2lkZWJhckhlYWRlckJvcmRlciA9ICtnZXRDb21wdXRlZFN0eWxlKHJvb3QpXHJcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKGAtLW5nLXNpZGViYXItYWNjb3JkaW9uLXNwYWNlX19zaWRlYmFyLWhlYWRlci1ib3JkZXJgKVxyXG4gICAgICAucmVwbGFjZSgncHgnLCAnJyk7XHJcblxyXG4gICAgY29uc3Qgb3V0T2ZTY3JlZW5XaWR0aCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnNjcm9sbFdpZHRoIC0gKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmNsaWVudFdpZHRoICsgc3BhY2VTaWRlYmFySGVhZGVyQm9yZGVyKTtcclxuICAgIGNvbnN0IG91dE9mU2NyZWVuSGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmNsaWVudEhlaWdodCArIHNwYWNlU2lkZWJhckhlYWRlckJvcmRlcik7XHJcblxyXG4gICAgaWYgKG91dE9mU2NyZWVuV2lkdGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IG9wZW5lZFNpZGViYXJzVyA9IHRoaXMuX3NpZGViYXJzXHJcbiAgICAgICAgLmZpbHRlcihzID0+IChzLnBvc2l0aW9uID09PSAnbGVmdCcgfHwgcy5wb3NpdGlvbiA9PT0gJ3JpZ2h0JykgJiYgcy5vcGVuZWRcclxuICAgICAgICAgICYmICF0aGlzLnNpZGVCYXJTZXR0aW5nc0xpc3QuZmluZChzcyA9PiBzcy5wb3NpdGlvbiA9PT0gcy5wb3NpdGlvbiAmJiBzcy5tb2RlID09PSAnb3ZlcicpKTtcclxuICAgICAgc2V0U3BhY2VTaWRlYmFyKG9wZW5lZFNpZGViYXJzVywgb3V0T2ZTY3JlZW5XaWR0aCk7XHJcbiAgICB9XHJcbiAgICBpZiAob3V0T2ZTY3JlZW5IZWlnaHQgPiAwKSB7XHJcbiAgICAgIGNvbnN0IG9wZW5lZFNpZGViYXJzSCA9IHRoaXMuX3NpZGViYXJzXHJcbiAgICAgICAgLmZpbHRlcihzID0+IChzLnBvc2l0aW9uID09PSAndG9wJyB8fCBzLnBvc2l0aW9uID09PSAnYm90dG9tJykgJiYgcy5vcGVuZWRcclxuICAgICAgICAgICYmICF0aGlzLnNpZGVCYXJTZXR0aW5nc0xpc3QuZmluZChzcyA9PiBzcy5wb3NpdGlvbiA9PT0gcy5wb3NpdGlvbiAmJiBzcy5tb2RlID09PSAnb3ZlcicpKTtcclxuXHJcbiAgICAgIHNldFNwYWNlU2lkZWJhcihvcGVuZWRTaWRlYmFyc0gsIG91dE9mU2NyZWVuSGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdyb3VwQnkgPSAoeHMsIGtleSkgPT4ge1xyXG4gICAgcmV0dXJuIHhzLnJlZHVjZShmdW5jdGlvbiAocnYsIHgpIHtcclxuICAgICAgKHJ2W3hba2V5XV0gPSBydlt4W2tleV1dIHx8IFtdKS5wdXNoKHgpO1xyXG4gICAgICByZXR1cm4gcnY7XHJcbiAgICB9LCB7fSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBzaWRlYmFyU3Vic2NyaWJlKHNpZGViYXI6IFNpZGViYXJDb21wb25lbnQpOiB2b2lkIHtcclxuICAgIHNpZGViYXIuaGVhZGVyQ2xpY2tlZC5zdWJzY3JpYmUoKGU6IFNpZGViYXJDb21wb25lbnQpID0+IHtcclxuICAgICAgZS5vcGVuZWQgPyBlLmNsb3NlKCkgOiBlLm9wZW4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNpZGViYXIuaGVhZGVyVG91Y2hNb3ZlZC5zdWJzY3JpYmUoKGU6IFNpZGViYXJNb3VzZVRvdWNoRXZlbnRBcmdzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlzQWxsb3dSZXNpemFibGUgPSB0aGlzLl9zaWRlYmFyc1xyXG4gICAgICAgIC5maWx0ZXIocyA9PiBzLnBvc2l0aW9uID09PSBlLnNlbmRlci5wb3NpdGlvbiAmJiBzLm9wZW5lZCkubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgIGlmICh0aGlzLnNpZGViYXJSZXNpemFibGUgJiYgaXNBbGxvd1Jlc2l6YWJsZSkge1xyXG5cclxuICAgICAgICBjb25zdCBncm91cEJ5UG9zaXRpb24gPSB0aGlzLmdyb3VwQnkodGhpcy5fc2lkZWJhcnMsICdwb3NpdGlvbicpO1xyXG5cclxuICAgICAgICBpZiAoZ3JvdXBCeVBvc2l0aW9uLmhhc093blByb3BlcnR5KCdsZWZ0JykpIHtcclxuICAgICAgICAgIGdyb3VwQnlQb3NpdGlvblsnbGVmdCddLnJldmVyc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChncm91cEJ5UG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ3RvcCcpKSB7XHJcbiAgICAgICAgICBncm91cEJ5UG9zaXRpb25bJ3RvcCddLnJldmVyc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1vdmUgb25seSBmaXJzdCBzaWRlYmFyXHJcbiAgICAgICAgaWYgKGUuc2VuZGVyID09PSBncm91cEJ5UG9zaXRpb25bZS5zZW5kZXIucG9zaXRpb25dWzBdKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVNpZGViYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fb25TaWRlYmFyUmVzaXplQmVnaW4oZS5zZW5kZXIucG9zaXRpb24sIHtcclxuICAgICAgICAgICAgICBjbGllbnRYOiBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYLFxyXG4gICAgICAgICAgICAgIGNsaWVudFk6IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUoe1xyXG4gICAgICAgICAgICAgIGNsaWVudFg6IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFgsXHJcbiAgICAgICAgICAgICAgY2xpZW50WTogZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgc2lkZWJhci5oZWFkZXJUb3VjaEVuZGVkLnN1YnNjcmliZSgoZTogU2lkZWJhck1vdXNlVG91Y2hFdmVudEFyZ3MpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVNpZGViYXIpIHtcclxuICAgICAgICB0aGlzLm9uTW91c2VVcCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGUuc2VuZGVyLm9wZW5lZCA/IGUuc2VuZGVyLmNsb3NlKCkgOiBlLnNlbmRlci5vcGVuKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNpZGViYXIub3BlbmVkQ2hhbmdlLnN1YnNjcmliZSgoZTogU2lkZWJhck9wZW5lZEV2ZW50QXJncykgPT4ge1xyXG4gICAgICBpZiAoZS5vcGVuZWQpIHtcclxuICAgICAgICB0aGlzLl9zaWRlYmFycy5maWx0ZXIocyA9PiBzLm9wZW5lZCAmJiBzICE9IGUuc2VuZGVyICYmXHJcbiAgICAgICAgICBzLnBvc2l0aW9uID09PSBlLnNlbmRlci5wb3NpdGlvblxyXG4gICAgICAgICkuZm9yRWFjaChzID0+IHMuY2xvc2UoKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKTtcclxuXHJcbiAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gK2dldENvbXB1dGVkU3R5bGUocm9vdClcclxuICAgICAgICAuZ2V0UHJvcGVydHlWYWx1ZShgLS1uZy1zaWRlYmFyLWFjY29yZGlvbi1hbmltYXRpb24tZHVyYXRpb25gKVxyXG4gICAgICAgIC5yZXBsYWNlKCdzJywgJycpO1xyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNvcnJlY3RNYXhTaXplU2lkZWJhcnMoKSwgMTAwMCAqIGFuaW1hdGlvbkR1cmF0aW9uKTtcclxuXHJcbiAgICAgIHRoaXMuc2lkZWJhck9wZW5lZENoYW5nZS5lbWl0KGUuc2VuZGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaWRlYmFyVW5zdWJzY3JpYmUoKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zaWRlYmFycy5mb3JFYWNoKHNpZGViYXIgPT4ge1xyXG4gICAgICBzaWRlYmFyLmhlYWRlckNsaWNrZWQudW5zdWJzY3JpYmUoKTtcclxuICAgICAgc2lkZWJhci5vcGVuZWRDaGFuZ2UudW5zdWJzY3JpYmUoKTtcclxuICAgICAgc2lkZWJhci5oZWFkZXJUb3VjaE1vdmVkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIHNpZGViYXIuaGVhZGVyVG91Y2hFbmRlZC51bnN1YnNjcmliZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNpZGViYXJTZXR0aW5nc1N1YnNjcmliZSgpIHtcclxuICAgIHRoaXMuc2lkZUJhclNldHRpbmdzTGlzdC5mb3JFYWNoKHMgPT4ge1xyXG4gICAgICBzLm1vZGVDaGFuZ2Uuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHMucG9zaXRpb25DaGFuZ2Uuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNpZGViYXJTZXR0aW5nc1Vuc3Vic2NyaWJlKCkge1xyXG4gICAgdGhpcy5zaWRlQmFyU2V0dGluZ3NMaXN0LmZvckVhY2gocyA9PiB7XHJcbiAgICAgIHMubW9kZUNoYW5nZS51bnN1YnNjcmliZSgpO1xyXG4gICAgICBzLnBvc2l0aW9uQ2hhbmdlLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXX0=